# Project Context: Antlyst.xyz

**Last Updated:** 2025-12-23
**Current Phase:** Phase 1 (Audit & Plan) -> Moving to Phase 2

## 1. Project Overview
**Antlyst.xyz** is a web application allowing users to upload CSV files for interactive analysis, visualization, and collaborative sharing. It aims to provide "Data Visualization Reimagined" by automatically generating three distinct dashboard styles (Simple, ML-Enhanced, Power BI Style) from a single upload.
**Long-term Goal:** Develop an advanced AI algorithm capable of identifying hidden trends and "secret" insights in ANY dataset using trained models, making high-level data intelligence accessible to everyone.

## 2. Technology Stack
- **Frontend:** Next.js (App Router), React, Tailwind CSS, Framer Motion.
- **Backend:** Next.js API Routes, Server Actions.
- **Database:** PostgreSQL (via Prisma ORM), likely hosting on Neon or Supabase.
- **Storage:** Cloudflare R2 (for CSV files).
- **Authentication:** Clerk.
- **Visualization:** Recharts, Plotly.js, React Three Fiber (potential).
- **Language:** TypeScript.

## 3. Original Features (Audit Results)
- **Landing Page:** Animated hero section, feature breakdown (3 engines), call to action.
- **Authentication:** Clerk integration (Sign In, Sign Up).
- **Database Model:**
    - `Organization`: Supports teams.
    - `User`: Linked to organizations.
    - `Project`: Contains files and dashboards.
    - `File`: Metadata for uploaded CSVs.
    - `Dashboard`: Config for different visualization engines.
    - `Analysis`: Stores analysis results.
- **UI Components:** `NetworkBackground` (canvas-based particle animation), Theme Toggle (Light/Dark).

## 4. New Requirements (Enhancement Plan)

### Visual Design
- [ ] **Slideshow Hero:** Replace static image with high-quality, auto-cycling slideshow (fade/slide, 8-10s).
- [ ] **Rich Aesthetics:** "Premium" feel, glassmorphism, dynamic animations, no generic colors.
- [ ] **Multi-Theme Support:** Light, Dark, + 2-3 new color schemes (e.g., "Neon Night", "Corporate Blue").
- [ ] **Micro-animations:** Hover effects, card entrances, loading states.

### Core Functionality
- [ ] **Robust CSV Parsing:** Fix bugs with large files (100k+ rows).
- [ ] **Plot Selection:** Clean UI to choose plotting style (Simple, ML, PBI-like).
- [ ] **Backend Generation:** Python/Node generation logic for selected styles.
- [ ] **AI Insights:** Toggle for "AI-Powered Insights" (trends, anomalies, actions).

### Collaboration ("Organizations")
- [ ] **Real-time Feed:** Share plots, threaded comments, reactions (Supabase Realtime).
- [ ] **Custom Invites:** Shareable link system (e.g., `antlyst.xyz/invite/...`) that adds users to the underlying Clerk organization transparently.
- [ ] **Custom Plots:** Automatic initial generation, with UI controls for users to manually swap X/Y axes or data columns.

## 5. Phased Implementation Plan

### Phase 1: Setup & Context (Completed)
- [x] Audit codebase.
- [x] Create `project_context.txt`.
- [x] Confirm tech stack and current state.

### Phase 2: Visual & Animation Overhaul (Completed)
- [x] **Theme System:** Extend `tailwind.config.ts` and `globals.css` for multiple themes (class-based).
- [x] **Hero Slideshow:** Implement `HeroSlideshow.tsx` with Framer Motion.
- [x] **Global Polish:** Update `NetworkBackground` to respect new themes, add glassmorphism utilities.

### Phase 3: CSV Handling & Plot Selection UI (Refactoring)
- [x] Create `PlotStyleSelector` component.
- [x] Update file upload flow (Basic).
- [ ] Fix CSV parsing (Large file support - currently memory bound).

### Phase 4: Plot Generation Backend (Refactoring)
- [x] API routes for generating plot data/config.
- [ ] Optimize `analysis-engine` for large datasets.

### Phase 5: Authentication & Organizations Basics (Completed)
- [x] Ensure Clerk auth is fully functional.
- [x] Implement Organization creation/invite flow (leveraging existing Schema).

### Phase 6: Collaboration Features (Refactoring)
- [ ] **Real-time Feed:** Switch from Polling to WebSockets/Supabase Realtime.
- [x] Comment/Reaction system database implementation.
- [x] Frontend for feed.

### Phase 7: AI Insights System (Completed)
- [x] Integration with statistical heuristics (Outliers/Trends).
- [x] UI for displaying insights.

### Phase 8: Performance & Security (Completed)
- [x] Optimization (Worker for CSV).
- [x] Security audit (Zod validation, Headers).

### Phase 9: Final Polish

### Phase 9: Final Polish
- [ ] End-to-end testing.
- [ ] User acceptance walkthrough.

## 6. Project Log
- **2025-12-22:** Phase 1 initiated. Audited `schema.prisma` and `page.tsx`. Created this context file. Moving to Phase 2.
